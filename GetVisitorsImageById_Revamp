CREATE PROCEDURE [dbo].[GetVisitorsImageById_Revamp]  
(  
 @VisitorId Int
)        
AS      
BEGIN
SET NOCOUNT ON 
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
DECLARE @ErrorMessage VARCHAR(8000);
DECLARE @ErrorSeverity INT;
DECLARE @ErrorState INT;
BEGIN TRY

SELECT MasterVisitorID,[Photo],[FileContentId]	
	FROM [dbo].[MSTR_VisitorProof] WITH(nolock)	 WHERE (MasterVisitorID=@VisitorId)

END TRY
BEGIN CATCH
IF (@@ERROR <> 0)
BEGIN	
SELECT
@ErrorMessage =ERROR_MESSAGE(),
@ErrorSeverity = ERROR_SEVERITY(),
@ErrorState = ERROR_STATE();
RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState)
END
END CATCH	

RETURN 1 
SET NOCOUNT OFF;	
END
