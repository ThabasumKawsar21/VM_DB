CREATE PROCEDURE [dbo].[GetSavedLocationDetails]    
 (    
 @HostID VARCHAR(11),
 @GroupID INT  
 )     
AS    
BEGIN
SET NOCOUNT ON 
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
BEGIN TRY
BEGIN TRAN
DECLARE @ErrorMessage VARCHAR(8000);
DECLARE @ErrorSeverity INT;
DECLARE @ErrorState INT;


SELECT [SelectedVisitors]
      ,[Country]
      ,[City]
      ,[Facility]
      ,[LocationId]
      ,[FomeTime]
      ,[ToTime]
      ,[FromDate]
      ,[ToDate]
      ,[RecurrencePattern]
      ,[Occurence]
      ,[NotifyArrival]
      ,[IntegrateVisitor]
      ,[GroupId]

	  FROM [OneC_VMS].[dbo].[VisitorSavedLocationRequest] where [HostID] =@HostID AND [GroupId] = @GroupID

COMMIT TRAN
END TRY

BEGIN CATCH
ROLLBACK TRAN
IF (@@ERROR <> 0)
BEGIN	
SELECT
@ErrorMessage =ERROR_MESSAGE(),
@ErrorSeverity = ERROR_SEVERITY(),
@ErrorState = ERROR_STATE();
RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState)
END
END CATCH	

RETURN 1 
SET NOCOUNT OFF;	
END
